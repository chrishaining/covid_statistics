predictions <- data.frame(date, predicted_deaths)
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
#predictions <- predictions %>% mutate(predicted_deaths=c(predicted_deaths[1]*1.25*predicted_deaths))
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
predictions <- predictions %>% mutate(predicted_deaths=format(predicted_deaths, digits=2))
predictions <- predictions %>% mutate(predicted_deaths=as.numeric(predicted_deaths))
predictions <- predictions %>% mutate(predicted_deaths_fast=1.5*(predicted_deaths/1.25))
predictions
date <- as.Date(c('2020-03-26','2020-03-27', '2020-03-28', '2020-03-29', '2020-03-30', '2020-03-31'))
predicted_deaths <- c(twenty_six_march, twenty_seven_march, twenty_eight_march, twenty_nine_march, thirty_march, thirty_one_march)
predictions <- data.frame(date, predicted_deaths)
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
#predictions <- predictions %>% mutate(predicted_deaths=c(predicted_deaths[1]*1.25*predicted_deaths))
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
predictions <- predictions %>% mutate(predicted_deaths=format(predicted_deaths, digits=2))
predictions <- predictions %>% mutate(predicted_deaths=as.numeric(predicted_deaths))
predictions <- predictions %>% mutate(predicted_deaths_fast=1.5*(predicted_deaths/1.25))
predictions <- predictions %> rename('Predicted Deaths (25%)'=predicted_deaths)
date <- as.Date(c('2020-03-26','2020-03-27', '2020-03-28', '2020-03-29', '2020-03-30', '2020-03-31'))
predicted_deaths <- c(twenty_six_march, twenty_seven_march, twenty_eight_march, twenty_nine_march, thirty_march, thirty_one_march)
predictions <- data.frame(date, predicted_deaths)
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
#predictions <- predictions %>% mutate(predicted_deaths=c(predicted_deaths[1]*1.25*predicted_deaths))
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
predictions <- predictions %>% mutate(predicted_deaths=format(predicted_deaths, digits=2))
predictions <- predictions %>% mutate(predicted_deaths=as.numeric(predicted_deaths))
predictions <- predictions %>% mutate(predicted_deaths_fast=1.5*(predicted_deaths/1.25))
predictions <- predictions %>% rename('Predicted Deaths (25%)'=predicted_deaths, 'Predicted Deaths (50%)'=predicted_deaths_fast)
predictions
#add actual number
empty <- c("NA", "NA", "NA", "NA", "NA", "NA")
predictions <- predictions %>% mutate('Actual Deaths'=empty)
predictions
#add data to actual deaths
predictions <- predictions %>% mutate(actual_deaths=replace(as.numeric(actual_deaths), date=="2020-03-26", 463))
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date=="2020-03-26", 463))
predictions
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date=="2020-03-26", 463))
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date=="2020-03-27", 578))
predictions
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date=="2020-03-26", 463))
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date=="2020-03-27", 578))
predictions
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c("2020-03-26", "2020-03-27"), 463, 578))
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c("2020-03-26", "2020-03-27"), c(463, 578)))
#predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date=="2020-03-27", 578))
predictions
# 26th isn't a prediction - it's known. So, delete this row
predictions <- predictions %>% filter(date!="2020-03-26")
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c("2020-03-26", "2020-03-27"), c(463, 578)))
#predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date=="2020-03-27", 578))
predictions
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27"), c(578)))
#predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date=="2020-03-27", 578))
predictions
library(stringr)
library(readr)
library(dplyr)
#new_deaths=c(uk_deaths[1], diff(uk_deaths))
#mutate(daily_deaths_percent=c((new_deaths[1]/cumulative_deaths)*100))
predictor <- function(start_value) {
predicted_value <- start_value * 1.25}
#starting figure (this is known)
twenty_six_march <- 463
twenty_seven_march <- predictor(twenty_six_march)
twenty_eight_march <- predictor(twenty_seven_march)
twenty_nine_march <- predictor(twenty_eight_march)
thirty_march <- predictor(twenty_nine_march)
thirty_one_march <- predictor(thirty_march)
#
date <- as.Date(c('2020-03-26','2020-03-27', '2020-03-28', '2020-03-29', '2020-03-30', '2020-03-31'))
predicted_deaths <- c(twenty_six_march, twenty_seven_march, twenty_eight_march, twenty_nine_march, thirty_march, thirty_one_march)
predictions <- data.frame(date, predicted_deaths)
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
#predictions <- predictions %>% mutate(predicted_deaths=c(predicted_deaths[1]*1.25*predicted_deaths))
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
predictions <- predictions %>% mutate(predicted_deaths=format(predicted_deaths, digits=2))
predictions <- predictions %>% mutate(predicted_deaths=as.numeric(predicted_deaths))
predictions <- predictions %>% mutate(predicted_deaths_fast=1.5*(predicted_deaths/1.25))
predictions <- predictions %>% rename('Predicted Deaths (25%)'=predicted_deaths, 'Predicted Deaths (50%)'=predicted_deaths_fast)
predictions
#add actual number
empty <- c("NA", "NA", "NA", "NA", "NA", "NA")
predictions <- predictions %>% mutate('Actual Deaths'=empty)
predictions
# 26th isn't a prediction - it's known. So, delete this row
predictions <- predictions %>% filter(date!="2020-03-26")
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27"), c(578)))
predictions
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'=('Actual Deaths[1]'-'Actual Deaths'))
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27", "2020-03-28"), c(578, 759)))
predictions
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'=('Actual Deaths[1]'-'Actual Deaths'))
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27", "2020-03-28", "2020-03-29", "2020-03-30", "2020-03-31", ), c(578, 759, 1000, 1340, 1591)))
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27", "2020-03-28", "2020-03-29", "2020-03-30", "2020-03-31"), c(578, 759, 1000, 1340, 1591)))
predictions
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'=('Actual Deaths[1]'-'Actual Deaths'))
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'=('Actual Deaths[1]'-'Actual Deaths'))
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'=('Actual Deaths[1]'-'Actual Deaths'))
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'=('Actual Deaths'[1]-'Actual Deaths'))
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'=('Actual Deaths'[1]-'Actual Deaths'))
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'=('Actual Deaths'[1]-'Actual Deaths'))
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'=('Actual Deaths'[1]-'Actual Deaths'))
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'='Actual Deaths'[1]-'Actual Deaths')
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'='Actual Deaths'[1], diff('Actual Deaths'))
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'=c('Actual Deaths'[1], diff('Actual Deaths')))
predictions
# add actual growth rate
predictions <- predictions %>% mutate('Actual Growth Rate'=c('Actual Deaths'[1], diff('Actual Deaths')))
predictions
# add actual growth rate
predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate('Actual Growth Rate'=c(deaths[1], diff(deaths)))
predictions
# add actual growth rate
predictions <- predictions %>% rename(deaths='Actual Deaths')
# add actual growth rate
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate('Actual Growth Rate'=c((deaths[1], diff(deaths))/deaths))
# add actual growth rate
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate('Actual Growth Rate'=c((deaths[1], diff(deaths))/deaths))
# add actual growth rate
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate('Actual Growth Rate'=c((deaths[1], diff(deaths))/deaths))
# add actual growth rate
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate('Actual Growth Rate'=c(diff(deaths)/deaths[1]))
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27"), c(578)))
predictions
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27"), c(578)))
predictions
library(stringr)
library(readr)
library(dplyr)
#new_deaths=c(uk_deaths[1], diff(uk_deaths))
#mutate(daily_deaths_percent=c((new_deaths[1]/cumulative_deaths)*100))
predictor <- function(start_value) {
predicted_value <- start_value * 1.25}
#starting figure (this is known)
twenty_six_march <- 463
twenty_seven_march <- predictor(twenty_six_march)
twenty_eight_march <- predictor(twenty_seven_march)
twenty_nine_march <- predictor(twenty_eight_march)
thirty_march <- predictor(twenty_nine_march)
thirty_one_march <- predictor(thirty_march)
#
date <- as.Date(c('2020-03-26','2020-03-27', '2020-03-28', '2020-03-29', '2020-03-30', '2020-03-31'))
predicted_deaths <- c(twenty_six_march, twenty_seven_march, twenty_eight_march, twenty_nine_march, thirty_march, thirty_one_march)
predictions <- data.frame(date, predicted_deaths)
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
#predictions <- predictions %>% mutate(predicted_deaths=c(predicted_deaths[1]*1.25*predicted_deaths))
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
predictions <- predictions %>% mutate(predicted_deaths=format(predicted_deaths, digits=2))
predictions <- predictions %>% mutate(predicted_deaths=as.numeric(predicted_deaths))
predictions <- predictions %>% mutate(predicted_deaths_fast=1.5*(predicted_deaths/1.25))
predictions <- predictions %>% rename('Predicted Deaths (25%)'=predicted_deaths, 'Predicted Deaths (50%)'=predicted_deaths_fast)
predictions
#add actual number
empty <- c("NA", "NA", "NA", "NA", "NA", "NA")
predictions <- predictions %>% mutate('Actual Deaths'=empty)
predictions
# 26th isn't a prediction - it's known. So, delete this row
predictions <- predictions %>% filter(date!="2020-03-26")
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27"), c(578)))
predictions
# work out actual growth rate
#1 - define function
rater <- function(today_deaths, yesterday_deaths) {1+(today_deaths-yesterday_deaths)/yesterday_deaths}
test <- rater(579, 463)
test
predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(rate=do(rater(deaths[1], deaths))
predictions
predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(rate=do(rater(deaths[1], deaths)))
# work out actual growth rate
#1 - define function
rater <- function(today_deaths, yesterday_deaths) {1+(today_deaths-yesterday_deaths)/yesterday_deaths}
test <- do(rater(579, 463))
# work out actual growth rate
#1 - define function
rater <- function(today_deaths, yesterday_deaths) {1+(today_deaths-yesterday_deaths)/yesterday_deaths}
test <- rater(579, 463)
test
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(rate=apply(rater(deaths[1], deaths)))
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(rate=do(rater(deaths[1], deaths)))
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27", "2020-03-28"), c(578,759)))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions
# work out actual growth rate
#1 - define function
rater <- function(today_deaths, yesterday_deaths) {1+(today_deaths-yesterday_deaths)/yesterday_deaths}
test <- rater(579, 463)
test
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions
predictions <- predictions %>% rename(deaths='Actual Deaths')
library(stringr)
library(readr)
library(dplyr)
#new_deaths=c(uk_deaths[1], diff(uk_deaths))
#mutate(daily_deaths_percent=c((new_deaths[1]/cumulative_deaths)*100))
predictor <- function(start_value) {
predicted_value <- start_value * 1.25}
#starting figure (this is known)
twenty_six_march <- 463
twenty_seven_march <- predictor(twenty_six_march)
twenty_eight_march <- predictor(twenty_seven_march)
twenty_nine_march <- predictor(twenty_eight_march)
thirty_march <- predictor(twenty_nine_march)
thirty_one_march <- predictor(thirty_march)
#
date <- as.Date(c('2020-03-26','2020-03-27', '2020-03-28', '2020-03-29', '2020-03-30', '2020-03-31'))
predicted_deaths <- c(twenty_six_march, twenty_seven_march, twenty_eight_march, twenty_nine_march, thirty_march, thirty_one_march)
predictions <- data.frame(date, predicted_deaths)
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
#predictions <- predictions %>% mutate(predicted_deaths=c(predicted_deaths[1]*1.25*predicted_deaths))
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
predictions <- predictions %>% mutate(predicted_deaths=format(predicted_deaths, digits=2))
predictions <- predictions %>% mutate(predicted_deaths=as.numeric(predicted_deaths))
predictions <- predictions %>% mutate(predicted_deaths_fast=1.5*(predicted_deaths/1.25))
predictions <- predictions %>% rename('Predicted Deaths (25%)'=predicted_deaths, 'Predicted Deaths (50%)'=predicted_deaths_fast)
predictions
#add actual number
empty <- c("NA", "NA", "NA", "NA", "NA", "NA")
predictions <- predictions %>% mutate('Actual Deaths'=empty)
predictions
# 26th isn't a prediction - it's known. So, delete this row
predictions <- predictions %>% filter(date!="2020-03-26")
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27", "2020-03-28"), c(578,759)))
predictions
# work out actual growth rate
#1 - define function
rater <- function(today_deaths, yesterday_deaths) {1+(today_deaths-yesterday_deaths)/yesterday_deaths}
test <- rater(579, 463)
test
predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions
predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions
library(stringr)
library(readr)
library(dplyr)
#new_deaths=c(uk_deaths[1], diff(uk_deaths))
#mutate(daily_deaths_percent=c((new_deaths[1]/cumulative_deaths)*100))
predictor <- function(start_value) {
predicted_value <- start_value * 1.25}
#starting figure (this is known)
twenty_six_march <- 463
twenty_seven_march <- predictor(twenty_six_march)
twenty_eight_march <- predictor(twenty_seven_march)
twenty_nine_march <- predictor(twenty_eight_march)
thirty_march <- predictor(twenty_nine_march)
thirty_one_march <- predictor(thirty_march)
#
date <- as.Date(c('2020-03-26','2020-03-27', '2020-03-28', '2020-03-29', '2020-03-30', '2020-03-31'))
predicted_deaths <- c(twenty_six_march, twenty_seven_march, twenty_eight_march, twenty_nine_march, thirty_march, thirty_one_march)
predictions <- data.frame(date, predicted_deaths)
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
#predictions <- predictions %>% mutate(predicted_deaths=c(predicted_deaths[1]*1.25*predicted_deaths))
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
predictions <- predictions %>% mutate(predicted_deaths=format(predicted_deaths, digits=2))
predictions <- predictions %>% mutate(predicted_deaths=as.numeric(predicted_deaths))
predictions <- predictions %>% mutate(predicted_deaths_fast=1.5*(predicted_deaths/1.25))
predictions <- predictions %>% rename('Predicted Deaths (25%)'=predicted_deaths, 'Predicted Deaths (50%)'=predicted_deaths_fast)
predictions
#add actual number
empty <- c("NA", "NA", "NA", "NA", "NA", "NA")
predictions <- predictions %>% mutate('Actual Deaths'=empty)
predictions
# 26th isn't a prediction - it's known. So, delete this row
predictions <- predictions %>% filter(date!="2020-03-26")
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27", "2020-03-28"), c(578,759)))
predictions
# work out actual growth rate
#1 - define function
rater <- function(today_deaths, yesterday_deaths) {1+(today_deaths-yesterday_deaths)/yesterday_deaths}
test <- rater(579, 463)
test
predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions
predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(new_deaths[1]/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(new_deaths/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(1+new_deaths/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths[0]))
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths)+deaths))
#predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths))+deaths)
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths)+deaths))
#predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths)+diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
#predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(rate=rater(deaths[1], deaths))
predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
library(stringr)
library(readr)
library(dplyr)
#new_deaths=c(uk_deaths[1], diff(uk_deaths))
#mutate(daily_deaths_percent=c((new_deaths[1]/cumulative_deaths)*100))
predictor <- function(start_value) {
predicted_value <- start_value * 1.25}
#starting figure (this is known)
twenty_six_march <- 463
twenty_seven_march <- predictor(twenty_six_march)
twenty_eight_march <- predictor(twenty_seven_march)
twenty_nine_march <- predictor(twenty_eight_march)
thirty_march <- predictor(twenty_nine_march)
thirty_one_march <- predictor(thirty_march)
#
date <- as.Date(c('2020-03-26','2020-03-27', '2020-03-28', '2020-03-29', '2020-03-30', '2020-03-31'))
predicted_deaths <- c(twenty_six_march, twenty_seven_march, twenty_eight_march, twenty_nine_march, thirty_march, thirty_one_march)
predictions <- data.frame(date, predicted_deaths)
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
#predictions <- predictions %>% mutate(predicted_deaths=c(predicted_deaths[1]*1.25*predicted_deaths))
#predictions <- predictions %>% mutate(predicted_deaths=replace(as.numeric(predicted_deaths), date=="2020-03-27", 578))
predictions <- predictions %>% mutate(predicted_deaths=format(predicted_deaths, digits=2))
predictions <- predictions %>% mutate(predicted_deaths=as.numeric(predicted_deaths))
predictions <- predictions %>% mutate(predicted_deaths_fast=1.5*(predicted_deaths/1.25))
predictions <- predictions %>% rename('Predicted Deaths (25%)'=predicted_deaths, 'Predicted Deaths (50%)'=predicted_deaths_fast)
predictions
#add actual number
empty <- c("NA", "NA", "NA", "NA", "NA", "NA")
predictions <- predictions %>% mutate('Actual Deaths'=empty)
predictions
# 26th isn't a prediction - it's known. So, delete this row
predictions <- predictions %>% filter(date!="2020-03-26")
#add data to actual deaths
predictions <- predictions %>% mutate('Actual Deaths'=replace(as.numeric('Actual Deaths'), date==c( "2020-03-27", "2020-03-28"), c(578,759)))
predictions
# work out actual growth rate
#1 - define function
rater <- function(today_deaths, yesterday_deaths) {1+(today_deaths-yesterday_deaths)/yesterday_deaths}
test <- rater(579, 463)
test
predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths)))
#pct_change = (Profit/lag(Profit) - 1) * 100)
#predictions <- predictions %>% mutate(rate=new_deaths/lag(deaths))
predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
predictions <- predictions %>% rename(deaths='Actual Deaths')
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths)))
#pct_change = (Profit/lag(Profit) - 1) * 100)
predictions <- predictions %>% mutate(rate=new_deaths/lag(deaths))
#predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths)))
#pct_change = (Profit/lag(Profit) - 1) * 100)
predictions <- predictions %>% mutate(rate=1+new_deaths/lag(deaths))
#predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths)))
#pct_change = (Profit/lag(Profit) - 1) * 100)
predictions <- predictions %>% mutate(rate=1+new_deaths/lag(deaths))
predictions <- predictions %>% mutate(rate=format(rate, digits = 2))
#predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
#predictions <- predictions %>% rename(deaths='Actual Deaths')
predictions <- predictions %>% mutate(new_deaths=c(deaths[1], diff(deaths)))
#predictions <- predictions %>% mutate(yesterday=c(deaths[1], diff(deaths)))
predictions <- predictions %>% mutate(rate=1+new_deaths/lag(deaths))
predictions <- predictions %>% mutate(rate=format(rate, digits = 2))
#predictions <- predictions %>% mutate(rate=c(1+new_deaths[1]/deaths))
predictions
# for comparison, log the known rate
known_cases <- read.csv('covid_19_deaths.csv')
known_cases
# for comparison, log the known rate
known_cases <- read.csv('covid_19_deaths.csv')
known_cases <- select(-Global.Deaths)
# for comparison, log the known rate
known_cases <- read.csv('covid_19_deaths.csv')
known_cases <- known_cases %>% select(-Global.Deaths)
library(dplyr)
library(stringr)
library(readr)
# for comparison, log the known rate
known_cases <- read.csv('covid_19_deaths.csv')
known_cases <- known_cases %>% select(-Global.Deaths)
known_cases
# for comparison, log the known rate
known_cases <- read.csv('covid_19_deaths.csv')
known_cases <- known_cases %>% select(-Global.Deaths)
known_cases <- known_cases %>% mutate(new_deaths=c(UK.Deaths[1], diff(UK.Deaths)))
#predictions %>% mutate(rate=1+new_deaths/lag(deaths))
known_cases
# for comparison, log the known rate
known_cases <- read.csv('covid_19_deaths.csv')
known_cases <- known_cases %>% select(-Global.Deaths)
known_cases <- known_cases %>% mutate(new_deaths=c(UK.Deaths[1], diff(UK.Deaths)))
known_cases <- known_cases %>% mutate(rate=1+new_deaths/lag(UK.Deaths))
known_cases
# for comparison, log the known rate
known_cases <- read.csv('covid_19_deaths.csv')
known_cases <- known_cases %>% select(-Global.Deaths)
known_cases <- known_cases %>% mutate(new_deaths=c(UK.Deaths[1], diff(UK.Deaths)))
known_cases <- known_cases %>% mutate(rate=1+new_deaths/lag(UK.Deaths))
known_cases <- known_cases %>% mutate(rate=format(rate, digits = 2))
known_cases
